深度理解redis

1. 用redis作消息队列：
redis队列相对于RebbitMq、kafka来说操作简单；针对于只有一组消费对象的情况很适合；
缺点：Redis 的消息队列不是专业的消息队列，它没有非常多的高级特性，没有 ack 保证，如果对消息的可靠性有着极致的追求，那么它就不适合使用

2.redis队列空的时候，有两种解决办法：一种是让线程sleep一会；另一种方法是使用bpop 来代替 pop，但是注意当阻塞时间过长的时候，服务端会主动断开连接以减少资源的占用，这个时候bpop就会抛出异常，所以在编写客户端程序的时候，要注意捕获异常。

3.redis用作延时队列：
利用redis的zset当做延时队列，将消息序列化（一般使用json序列化）的值作为zset的value，消息的到期处理时间作为score；

tips ：常见的序列化方式有：XML、JSON、Protobuf、Thrift